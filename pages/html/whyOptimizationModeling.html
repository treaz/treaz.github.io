<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Optimization modeling tutorial</title>

    <!-- Bootstrap core CSS -->
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for the tutorial -->
    <link href="starter-template.css" rel="stylesheet">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="../../../sdk/sdk-pblib.js/playbasis.js"></script>

    <script>
      var playbasis = new Playbasis('2767998996');
      var playbasisToken;
      
      /*table 1 values*/
      var sliceTimePlain = 2;
      var sliceTimeMexican = 4;
      var fryingTimePlain = 4;
      var fryingTimeMexican = 5;
      var packingTimePlain = 4;
      var packingTimeMexican = 2;
      
      /*table 1 values*/
      var availableSlicingTime = 345;
      var availableFryingTime = 480;
      var availablePackingTime = 330;
      
      /*table 3 values*/
      var sellPricePlain = 2;
      var sellPriceMexican = 1.5;
      
      var q1Profit = 0;
      var medProfit = 0;
      var hardProfit = 0;
      
      
      $(document).ready(function(){
        $('.validateProdMixEasy').on('click',function() {
          var plainToSlice = $('.plainToSlice').val();
          var mexicanToSlice = $('.mexicanToSlice').val();
          if (availableSlicingTime < plainToSlice*sliceTimePlain + mexicanToSlice*sliceTimeMexican) {
            alert("You have exceeded the available slicing time.");
            return;
          }
          if (q1Profit===344) {
            alert("You found the most profitable solution");
            playbasis.rule(playbasisToken, "read", "1", "ORValue", function (result) {
              console.log("pb.auth");
              console.log(result);
            });
          } else {
            alert("This is not the most profitable solution.");
          }
        });
      });
      
      $(document).ready(function(){
        $('.validateProdMixMed').on('click',function() {
          var plainToSlice = $('.plainToSliceMed').val();
          var mexicanToSlice = $('.mexicanToSliceMed').val();
          if (availableSlicingTime < plainToSlice*sliceTimePlain + mexicanToSlice*sliceTimeMexican) {
            alert("You have exceeded the available slicing time.");
            return;
          }
          if (availableFryingTime < plainToSlice*fryingTimePlain + mexicanToSlice*fryingTimeMexican) {
            alert("You have exceeded the available frying time.");
            return;
          }
          if (medProfit===240) {
            alert("You found the most profitable solution");
            playbasis.rule(playbasisToken, "read", "1", "ORValue", function (result) {
              console.log("pb.auth");
              console.log(result);
            });
          } else {
            alert("This is not the most profitable solution.");
          }
        });
      });
      
      function initPage() {
        
        /*initialize table 1*/
        $(".slicingTimePlainValue").text(sliceTimePlain);
        $(".slicingTimeMexicanValue").text(sliceTimeMexican);
        $(".fryingTimePlain").text(fryingTimePlain);
        $(".fryingTimeMexican").text(fryingTimeMexican);
        
        /*initialize table 2*/
        $(".availableSlicingTime").text(availableSlicingTime);
        $(".availableFryingTime").text(availableFryingTime);
        
        /*initialize table 3*/
        $(".sellPricePlainValue").text(sellPricePlain);
        $(".sellPriceMexicanValue").text(sellPriceMexican);
        $(".q1Profit").text(q1Profit);
        $(".medProfit").text(medProfit);
        $(".hardProfit").text(hardProfit);
        
        playbasis.auth('a45ae6e91f0f07125d60f8b92f8948c3', function (result) {
          playbasisToken=result.response.token;
        });
      }
      
      $(document).ready(function(){
        $('.plainToSlice, .mexicanToSlice').on('change',function() {
          q1Profit = $('.plainToSlice').val()*sellPricePlain + $('.mexicanToSlice').val()*sellPriceMexican;
          $(".q1Profit").text(q1Profit);
        });
      });
      
      $(document).ready(function(){
        $('.plainToSliceMed, .mexicanToSliceMed').on('change',function() {
          medProfit = $('.plainToSliceMed').val()*sellPricePlain + $('.mexicanToSliceMed').val()*sellPriceMexican;
          $(".medProfit").text(medProfit);
        });
      });
  </script>
    
  </head>

  <body onload="initPage()">

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Optimization modeling tutorial</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Why optimization modeling</a></li>
            <li><a href="#about">Intro to optimization modeling</a></li>
            <li><a href="#contact">Modeling a LP problem</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

      <div class="starter-template">
        <h1>Context</h1>
        <p>Managers are confronted with decisions all the time. Managerial decision making is a process that, most of the time, depends on the intuition and on the experience of the manager. Optimization modeling brings objectivity and more insight into this process and also indicates what is the most profitable decision.</br>
        Below we show a simplifed example of a common decision problem: the product mix problem.
        </p>
        <ul class="nav nav-tabs" role="tablist">
          <li class="active"><a href="#easy" role="tab" data-toggle="tab">Easy</a></li>
          <li><a href="#medium" role="tab" data-toggle="tab">Medium</a></li>
          <li><a href="#hard" role="tab" data-toggle="tab">Hard</a></li>
          <li><a href="#veryHard" role="tab" data-toggle="tab">VeryHard</a></li>
          <li><a href="#veryVeryHard" role="tab" data-toggle="tab">VeryVeryHard</a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="easy">
            <div class="row">
              <div class="col-xs-8">
                <p>A company slices potatoes into 2 shapes: plain and mexican (wavy). </br>
                    The time (minutes) required to slice 1kg of each shape is presented in Table 1. There is a limit on the amount of time available for slicing (Table 2). The sell price of the potatoes is presented in Table 3.</br>
                    </br>
                    What combination of potatoes to slice in order to yelds the highest profit possible?
                </p>
              </div>
              <div class="col-xs-2">
                <figure>
                  <img src="img/plainChips.jpg" class="img-rounded chips">
                  <figcaption>Plain chips</figcaption>
                </figure>
              </div>
              <div class="col-xs-2">
                <figure>
                  <img src="img/mexicanChips.jpg" class="img-rounded chips">
                  <figcaption>Mexican chips</figcaption>
                </figure>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-2">
                <table class="table table-condensed table-striped table-bordered">
                  <thead>
                  <tr>
                    <td></td>
                    <td>Slicing(min)</td></tr>
                  </thead>
                  <tr>
                    <td>plain</td>
                    <td class="slicingTimePlainValue"></td></tr>
                  <tr>
                    <td>mexican</td>
                    <td class="slicingTimeMexicanValue"></td></tr>
                  <caption class="text-left">Table 1, 1kg of potatoes slice time</caption>
                </table>
              </div>
              <div class="col-xs-2">
                <table class="table table-condensed table-striped table-bordered">
                  <tr>
                    <td>Available slicing time</td>
                    <td class="availableSlicingTime"></td></tr>
                  <caption class="text-left">Table 2, slicing machine availability(min)</caption>
                </table>
              </div>
              <div class="col-xs-3">
                <table class="table table-condensed table-striped table-bordered">
                  <thead>
                  <tr>
                    <td></td>
                    <td>Sell price(euro)</td></tr>
                  </thead>
                  <tr>
                    <td>plain</td>
                    <td class="sellPricePlainValue"></td></tr>
                  <tr>
                    <td>mexican</td>
                    <td class="sellPriceMexicanValue"></td></tr>
                  <caption class="text-left">Table 3, sliced potatoes sell price</caption>
                </table>
              </div>
            </div>
            <p class="lead">Below you can enter and check your solution</p>
            <div class="col-xs-3">
              <table class="table table-condensed table-striped table-bordered">
                <thead>
                <tr>
                  <td></td>
                  <td>kg to slice</td></tr>
                </thead>
                <tr>
                  <td>plain</td>
                  <td><input class="plainToSlice" value="0" type="number"></td></tr>
                <tr>
                  <td>mexican</td>
                  <td><input class="mexicanToSlice" value="0" type="number"></td></tr>
                <tr>
                  <td>Profit</td>
                  <td class="q1Profit"></td></tr>
              </table>
              <button class="btn btn-default validateProdMixEasy">Check solution</button>
            </div>
          </div>
          <div class="tab-pane" id="medium">
            <div class="row">
              <div class="col-xs-8">
                <p>A company produces potato chips of 2 types: plain and mexican. The process includes slicing and frying the potatoes.
                  The time (minutes) required to process 1kg of each chip type is presented in Table 1. There is a limit on the time available for each process (Table 2). The sell price of the chips is presented in Table 3.</br>
                  </br>
                  What combination of chips should be produced in order to yelds the highest profit possible?
                </p>
              </div>
              <div class="col-xs-2">
                <figure>
                  <img src="img/plainChips.jpg" class="img-rounded chips">
                  <figcaption>Plain chips</figcaption>
                </figure>
              </div>
              <div class="col-xs-2">
                <figure>
                  <img src="img/mexicanChips.jpg" class="img-rounded chips">
                  <figcaption>Mexican chips</figcaption>
                </figure>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-3">
                <table class="table table-condensed table-striped table-bordered">
                  <thead>
                  <tr>
                    <td></td>
                    <td>Slicing(min)</td>
                    <td>Frying(min)</td></tr>
                  </thead>
                  <tr>
                    <td>plain</td>
                    <td class="slicingTimePlainValue"></td>
                    <td class="fryingTimePlain"></td></tr>
                  <tr>
                    <td>mexican</td>
                    <td class="slicingTimeMexicanValue"></td>
                    <td class="fryingTimeMexican"></td></tr>
                  <caption class="text-left">Table 1, 1kg of potatoes slice time</caption>
                </table>
              </div>
              <div class="col-xs-2">
                <table class="table table-condensed table-striped table-bordered">
                  <tr>
                    <td>Available slicing time</td>
                    <td class="availableSlicingTime"></td></tr>
                  <tr>
                    <td>Available frying time</td>
                    <td class="availableFryingTime"></td>
                  <caption class="text-left">Table 2, slicing machine availability(min)</caption>
                </table>
              </div>
              <div class="col-xs-3">
                <table class="table table-condensed table-striped table-bordered">
                  <thead>
                  <tr>
                    <td></td>
                    <td>Sell price(euro)</td></tr>
                  </thead>
                  <tr>
                    <td>plain</td>
                    <td class="sellPricePlainValue"></td></tr>
                  <tr>
                    <td>mexican</td>
                    <td class="sellPriceMexicanValue"></td></tr>
                  <caption class="text-left">Table 3, sliced potatoes sell price</caption>
                </table>
              </div>
            </div>
            <p class="lead">Below you can enter and check your solution</p>
            <div class="col-xs-3">
              <table class="table table-condensed table-striped table-bordered">
                <thead>
                <tr>
                  <td></td>
                  <td>kg to slice</td></tr>
                </thead>
                <tr>
                  <td>plain</td>
                  <td><input class="plainToSliceMed" value="0" type="number"></td></tr>
                <tr>
                  <td>mexican</td>
                  <td><input class="mexicanToSliceMed" value="0" type="number"></td></tr>
                <tr>
                  <td>Profit</td>
                  <td class="medProfit"></td></tr>
              </table>
              <button class="btn btn-default validateProdMixMed">Check solution</button>
            </div>
          </div>
          <div class="tab-pane" id="hard">..dasfdasf.</div>
          <div class="tab-pane" id="veryHard">..safdasdfas.</div>
          <div class="tab-pane" id="veryVeryHard">..safdasdfas.</div>
        </div>
      </div>
    </div><!-- /.container -->
    
    <div class="pb-userbar" data-pb-displayPoint="exp" ></div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="http://getbootstrap.com/assets/js/ie10-viewport-bug-workaround.js"></script>
    <script>
    window.PBAsyncInit = function(){
      PB.init({
        api_key:'2767998996',
        theme_color :'#393E99',
        playerId :'1'
      });
    };(!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://widget.pbapp.net/playbasis/en/all.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','playbasis-js'));</script>
  </body>
</html>
